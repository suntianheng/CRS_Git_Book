# 合同

| Tikcet             | #22121 #22127                                                |
| :----------------- | :----------------------------------------------------------- |
| 问题描述           | 集团端下发合同协议价,集团删除后酒店端仍然存在                |
| 具体原因和解决方案 | 1.创建一个合同,并选择A酒店的协议价下发给A酒店,删除A酒店的协议价并下发,酒店端跟着删除<br>2.创建一个合同,并选择A,B酒店的协议价下发给A,B酒店,删除A酒店的协议价并下发,去A酒店端查看该协议价仍存在<br>解决方式 : 程序中是根据档案查询该酒店的合同,并查询合同下所有的协议价,然后对比筛选出集团端删除掉的协议价,再从酒店端删除该协议价,这个逻辑的语句条件不完整,所以会出现此问题,补充条件后解决. |
| 编写人             | carl.sun                                                     |
| 时间               | 2020/9/16                                                    |

